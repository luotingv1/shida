(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cf6c6bb4"],{2610:function(e,a,t){"use strict";t("d7c7")},"2b19":function(e,a,t){},"63a6":function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"clearfix my-page-list"},[t("div",{staticClass:"page-search-wrapper bg-white"},[t("el-tabs",{on:{"tab-click":e.handlePageModeClick},model:{value:e.searchParams.pageMode,callback:function(a){e.$set(e.searchParams,"pageMode",a)},expression:"searchParams.pageMode"}},e._l(e.pageModeList,(function(a,i){return t("el-tab-pane",{key:i,attrs:{name:a.value,disabled:a.disabled}},[t("div",{attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"nav-tabs-label"},[e._v(e._s(a.label))])])])})),1)],1),t("el-scrollbar",{staticClass:"scroll-wrapper page-list-wrapper"},[t("div",{staticClass:"page-content"},[t("div",{staticClass:"my-page-nav-list"},[t("div",{staticClass:"my-page-nav-item",class:{active:"my"===e.searchParams.type},on:{click:function(a){return e.doSearch("my")}}},[e._v("\n          我的作品("+e._s(e.myCount)+")\n        ")]),t("div",{staticClass:"my-page-nav-item",class:{active:"cooperation"===e.searchParams.type},on:{click:function(a){return e.doSearch("cooperation")}}},[e._v("\n          参与作品("+e._s(e.shareCount)+")\n        ")])]),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"page-item-wrapper"},[t("div",{staticClass:"page-item"},[t("thumbnailPanel",{attrs:{pageType:e.searchParams.pageMode}})],1),e._l(e.pageList,(function(a,i){return t("div",{key:i,staticClass:"page-item"},[t("thumbnailPanel",{attrs:{pageData:a,btnList:e.operationBtn(a.isPublish)},on:{refresh:e.getPageList,showPreview:e.showPreviewFn}})],1)})),t("i"),t("i"),t("i"),t("i"),t("i")],2)])]),e.showPreview?t("previewPage",{attrs:{pageId:e.previewId},on:{closePreview:function(a){e.showPreview=!1}}}):e._e()],1)},n=[],s=(t("8e6e"),t("ac6a"),t("456d"),t("ade3")),o=(t("7f7f"),t("2909")),r=t("2f88"),c=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("previewWrapper",{attrs:{pageData:e.pageData,videoUrl:e.pageData.videoUrl,showVideo:!!e.pageData.videoUrl},on:{closePanel:e.closePanel}}),t("el-dialog",{attrs:{title:"提示",visible:e.showDialog,width:"30%","before-close":e.handleClose},on:{"update:visible":function(a){e.showDialog=a}}},[t("span",[e._v("暂时没有合成视频")])])],1)},l=[],p=t("a1a8"),d={components:{previewWrapper:p["a"]},props:{pageId:String},data:function(){return{pageData:{videoUrl:null},showDialog:!1}},mounted:function(){this.getData()},methods:{closePanel:function(){this.$emit("closePreview",!1)},getData:function(){var e=this;this.pageData={videoUrl:null},this.loading=!0,this.$API.getPageDetail({pageId:this.pageId}).then((function(a){e.pageData=a.body,e.pageData.videoUrl||(e.showDialog=!0)})).catch((function(){e.showDialog=!0}))},handleClose:function(){this.closePanel()}}},u=d,g=(t("67c9"),t("0c7c")),h=Object(g["a"])(u,c,l,!1,null,"5df2f6f4",null),f=h.exports,v=(t("1336"),t("d71a"));function b(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,i)}return t}function P(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?b(Object(t),!0).forEach((function(a){Object(s["a"])(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var m={components:{thumbnailPanel:r["a"],previewPage:f},data:function(){return{loading:!1,pageList:[],myCount:0,shareCount:0,pageModeList:[],searchParams:{type:"my",pageMode:"h5"},previewId:"",showPreview:!1}},computed:{},created:function(){this.pageModeList=this.$config.pageModeList,this.getPageList()},methods:{operationBtn:function(e){var a=["edit","copyTemplate","setTemplate"];return"my"===this.searchParams.type&&(a=[].concat(Object(o["a"])(a),["cooperation","delete"])),"cooperation"===this.searchParams.type&&(a=[].concat(Object(o["a"])(a),["unCooperation"])),a=[].concat(Object(o["a"])(a),e?["copyUrl","viewPageData"]:["publish"]),a},doSearch:function(e){this.searchParams.type=e,this.getPageList()},handlePageModeClick:function(e){this.searchParams.pageMode=e.name,this.getPageList()},getPageList:function(){var e=this;this.$API.getMyPages(this.searchParams).then((function(a){e.pageList=a.body.pages||[],e.myCount=a.body.myPageCount,e.shareCount=a.body.myCooperationPageCount}))},showPreviewFn:function(e){this.previewId=e,this.showPreview=!0},newTemplate:function(){var e=this,a=v["a"].getProjectConfig();this.loading=!0,this.$API.createPage(P({},a)).then((function(a){e.loading=!1,a.body&&e.$router.push({name:"Template",query:{id:a.body._id}})})).catch((function(){e.loading=!1}))}}},w=m,y=(t("bf7c"),t("2610"),Object(g["a"])(w,i,n,!1,null,"3c021537",null));a["default"]=y.exports},"67c9":function(e,a,t){"use strict";t("baab")},baab:function(e,a,t){},bf7c:function(e,a,t){"use strict";t("2b19")},d7c7:function(e,a,t){}}]);